{% extends "layout.njk" %}

{% import "parts/card.njk" as card %}

{% block content %}

  {% if (cart.items and cart.items.length < 1) %}

    {% call card.render('', 'cart-empty container') %}
      <p>Seu carrinho est√° vazio</p>
      <a href="/products/search" class="button">Comprar</a>

    {% endcall %}
    
  {% else %}

    {% call card.render('', 'order-detail container') %}

      <div class="info">
        <div class="buyer">
          <h4>Comprador</h4>
          <div class="name">{{order.buyer.name}}</div>
          <div class="email">{{order.buyer.email}}</div>
          <div class="addres">{{order.buyer.addres}}</div>
          <div class="cep">{{order.buyer.cep}}</div>
        </div>

        <div class="seller">
          <h4>Vendedor</h4>
          <div class="name">{{order.seller.name}}</div>
          <div class="email">{{order.seller.email}}</div>
          <div class="addres">{{order.seller.addres}}</div>
          <div class="cep">{{order.seller.cep}}</div>
        </div>

        <div class="status {{order.status}}">
          <h2>{{order.formattedStatus}}</h2>
          <p>{{order.formattedUpdatedAt}}</p>
        </div>
      </div>

      <div class="product">
        <img src="{{order.product.img}}" alt="Imagem do Produto {{order.product.name}}">
        <p class="name">{{order.product.name}}</p>
        <p class="price">{{order.formattedPrice}}</p>
      </div>

      <div class="total">
        <span>Total</span><span>{{order.formattedTotal}}</span>
      </div>
     

    {% endcall %}
  
  {% endif %}

{% endblock content %}